# CSJ小姐的大学学习生涯第一个C语言project



## NumberCrash

类似于著名游戏CandyCrash，或是诸如开心消消乐之类的，用C语言编写，通过交换来消除数字



## 限制

* 只允许走100步，算出总得分
* 要用tinymt32.h来算随机数，以此来确保每个人的输出都是一样的（还有什么随机的必要吗，不如直接读取文件）
* 要写一个AI玩家，要在5秒内得分最高，要重写init函数，来读取不同的K（即游戏的数字数量，从{4，5，6，7}中选取）



## 实现

1. 定义GameState结构体，包括一个长度为100的int数组作为棋盘，step记录步数，t_score记录总得分，以及适用于tinymt32的指针random和seed
2. 初始化游戏，打印初始游戏盘
3. while循环读入指令，判断指令合法性，如果合法进行交换
4. 在交换函数swap_number里，交换指令传进来的参数位置的两个数字，并且while循环，调用check_if3作为while的条件，进行crash_matrix操作
5. check_if3检查棋盘是否有消除的必要，一旦检查到3个连续的就返回true
6. crash_matrix消除数字。首先计算得分，遍历棋盘，根据连续的数量加上相应的得分；然后把需要消除的位置打上标记，计算总数；然后调用pull_down用上面的替换下面的，达到消除目的；最后generate_new，伪随机数填补空位
7. AI玩家还没写



## 感想

basic部分不算难，AI玩家还没写不知道

希望CSJ小姐能够天天开心